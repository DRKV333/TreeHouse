<!DOCTYPE html>
<html>
    <head>
        <title>TreeHouse FoorMap Explorer</title>
        <link
            rel="stylesheet" href="https://unpkg.com/leaflet@2.0.0-alpha.1/dist/leaflet.css"
            integrity="sha384-mduptj5Hiyp/jSH2p+p4A8UdSz0gnkrO1y37pdMuUTkAMEUuDsr12k7o4eQJXufp"
            crossorigin="anonymous"
        />
        <link rel="stylesheet" href="./leaflet-burgermenu/leaflet-burgermenu.css" />
        <script type="importmap">
            {
                "imports": {
                    "leaflet": "https://unpkg.com/leaflet@2.0.0-alpha.1/dist/leaflet.js",
                    "leaflet-burgermenu": "./leaflet-burgermenu/leaflet-burgermenu.js",
                    "FloorMapExplorer": "./FloorMapExplorer.js"
                },
                "integrity": {
                    "https://unpkg.com/leaflet@2.0.0-alpha.1/dist/leaflet.js": "sha384-h3ZIZ5xsHHscwk3hG7EdHHGZxzCzl9tFuX0xxQhH/gnJW82Ll5+qFXqq7XTiJKen"
                }
            }
        </script>
        <style>
        html, body, #map {
            height: 100%;
            margin: 0;
        }
        </style>
        <script type="module">
            import { FloorMapExplorer, MessagingServer } from "FloorMapExplorer";

            document.addEventListener("DOMContentLoaded", async e => {
                const mapElement = document.getElementById("map");
                const map = new FloorMapExplorer(mapElement);
                await map.loadInfo();

                const messagingServer = new MessagingServer(map);
            });
        </script>
    </head>
    <body>
        <div id="map"></div>
    </body>
</html>